
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Output Files &#8212; Sedona6  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Basic Code Execution" href="code_execution.html" />
    <link rel="prev" title="Input Files" href="input_files.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="output-files">
<h1>Output Files<a class="headerlink" href="#output-files" title="Permalink to this headline">¶</a></h1>
<div class="section" id="spectrum-files">
<h2>Spectrum Files<a class="headerlink" href="#spectrum-files" title="Permalink to this headline">¶</a></h2>
<p>Files with the name <strong>spectrum_?.h5</strong> carry the emergent radiation of
the model. Output is always in frequency space, with the output luminosity
in units of ergs/sec/Hz.</p>
<p>Note that the time spacing and frequency spacing of the output spectrum
need not be identical to that used in the transport calculation. However,
it is sensible to use time and frequency resolutions that are comparable to
or coarser than that used in the transport run.</p>
<p>To set the frequency grid of the output spectrum, set the runtime parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spectrum_nu_grid</span>   <span class="o">=</span> <span class="p">{</span><span class="n">start</span><span class="p">,</span><span class="n">stop</span><span class="p">,</span><span class="n">delta</span><span class="p">}</span>
</pre></div>
</div>
<p>where gives a uniform frequency grid between values <strong>start</strong> and <strong>stop</strong> with spacing <strong>delta</strong>.
To use a logarithmically spaced frequency grid,  add an extra entry of 1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spectrum_nu_grid</span>   <span class="o">=</span> <span class="p">{</span><span class="n">start</span><span class="p">,</span><span class="n">stop</span><span class="p">,</span><span class="n">delta</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>where now the spacing between points is dnu = nu*delta.  To perform
a single frequency (i.e., grey) calculation, simply set start &gt;= stop, e.g.,:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spectrum_nu_grid</span>   <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>The spacing of the time bins is set in a similar way, e.g.,:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spectrum_time_grid</span>   <span class="o">=</span> <span class="p">{</span><span class="n">start</span><span class="p">,</span><span class="n">stop</span><span class="p">,</span><span class="n">delta</span><span class="p">}</span>
</pre></div>
</div>
<p>which gives a uniformly spaced time gridbetween values <strong>start</strong> and <strong>stop</strong> with spacing <strong>delta</strong>.</p>
<p>Parameters controlling spectrum output</p>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text">Output Spectrum Parameters</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">parameter</th>
<th class="head">values</th>
<th class="head">definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>spectrum_name</td>
<td>&lt;string&gt;</td>
<td>name of the output spectrum files, if output_write_radiation is enabled</td>
</tr>
<tr class="row-odd"><td>spectrum_time_grid</td>
<td>&lt;float vector&gt;</td>
<td>time grid for the spectrum file</td>
</tr>
<tr class="row-even"><td>spectrum_nu_grid</td>
<td>&lt;float vector&gt;</td>
<td>frequency grid for the spectrum file</td>
</tr>
<tr class="row-odd"><td>spectrum_n_mu</td>
<td>&lt;integer&gt;</td>
<td>number of evenly spaced mu (viewing angles in theta (polar coord.) direction mu = cos theta)</td>
</tr>
<tr class="row-even"><td>spectrum_n_phi</td>
<td>&lt;integer&gt;</td>
<td>number of evenly spaced phi (viewing angles in phi (polar coord.) direction)</td>
</tr>
<tr class="row-odd"><td>gamma_name</td>
<td>&lt;string&gt;</td>
<td>name of the output gamma-ray spectrum, if radioactivity is being used</td>
</tr>
<tr class="row-even"><td>gamma_nu_grid</td>
<td>&lt;float vector&gt;</td>
<td>grid for output gamma-rays; dimensions here are MeV</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="plt-files">
<h2>Plt Files<a class="headerlink" href="#plt-files" title="Permalink to this headline">¶</a></h2>
<p>Plt files contain data describing the physical properties (e.g.,
temperature, density) of the model
and different time steps or iterations. Exhaustive information
is contained in the <strong>plt_?????.h5</strong> files, in hdf5 form.  For 1D
calculations, some information is also output (for convenience) in
ascii <strong>plt_?????.dat</strong> files.</p>
<p>Several runtime parameters control when and what is written to
plt files.  To control when plt files are output, set e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output_write_plt_file_time</span> <span class="o">=</span> <span class="mf">1000.0</span>
</pre></div>
</div>
<p>which will write a plt file every 1000.0 seconds of simulation time.
To write plt files out with logarithmic spacing use e,g.,:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output_write_plt_log_space</span> <span class="o">=</span> <span class="mf">0.5</span>
</pre></div>
</div>
<p>In which case, if a plt file is written at time t0, the next
plt file will be written at time t1 = t0*(1 + 0.5).  This parameter
will override the <strong>output_write_plt_file_time</strong> parameter</p>
<table border="1" class="colwidths-given docutils" id="id2">
<caption><span class="caption-text">plt File Output Parameters</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="13%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">parameter</th>
<th class="head">values</th>
<th class="head">definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>output_write_plt_file_time</td>
<td>&lt;float&gt;</td>
<td>interval of simulation time (in seconds) before writing next plt file</td>
</tr>
<tr class="row-odd"><td>output_write_plt_log_space</td>
<td>&lt;float&gt;</td>
<td>using logarithmic spacing for plt file output. If equal to 0, use
equal spacing set by output_write_plt_file_time. If &gt; 0 will
override write_plt_file_time</td>
</tr>
<tr class="row-even"><td>output_write_radiation</td>
<td>0 = no | 1 = yes</td>
<td>Write out frequency dependent radiation properites (e.g., opacity, emissivity, Jnu)
for every zone</td>
</tr>
<tr class="row-odd"><td>output_write_atomic_levels</td>
<td>0 = no | 1 = yes</td>
<td>Write out detailed level populations for every zone</td>
</tr>
<tr class="row-even"><td>output_write_mass_fractions</td>
<td>0 = no | 1 = yes</td>
<td>Write out the composition (mass fractions) for every zone</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="checkpoint-files">
<h2>Checkpoint Files<a class="headerlink" href="#checkpoint-files" title="Permalink to this headline">¶</a></h2>
<p>Checkpoint files provide a complete dump of the state of the
program, and are used to restart a calculation.  By default, checkpointing
will not happen.</p>
<p>Several parameters are available to control checkpointing.  For example, setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">run_do_checkpoint</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">run_chk_timestep_interval</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
<p>will write a checkpoint file every 10 time steps.  Meanwhile setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">run_do_checkpoint</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">run_chk_simtime_interval</span> <span class="o">=</span> <span class="mf">1000.0</span>
</pre></div>
</div>
<p>will write a checkpoint file every 1000.0 seconds of time elapsed in the simulation.  To
make sure that a checkpoint is written before a job is scheduled to die, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">run_do_checkpoint</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">run_chk_walltime_max</span> <span class="o">=</span> <span class="mi">12</span><span class="o">*</span><span class="mf">60.0</span><span class="o">*</span><span class="mf">60.0</span>
<span class="n">run_chk_walltime_max_buffer</span> <span class="o">=</span> <span class="mf">1.1</span>
</pre></div>
</div>
<p>will make sure that a checkpoint is written when the code thinks the next
time step will not complete within the set max walltime of 12 hours. This estimated
by determining if the time left before 12 hours is less than the time it took to compute
the last time step, multiplied by a buffer (here = 1.1) for safety.</p>
<table border="1" class="colwidths-given docutils" id="id3">
<caption><span class="caption-text">Checkpoint Parameters</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">parameter</th>
<th class="head">values</th>
<th class="head">definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>run_do_restart</td>
<td>0 = no | 1 = yes</td>
<td>Whether or not to restart from a checkpoint file. If 0, starts a fresh run. Otherwise, restarts from run_restart_file.</td>
</tr>
<tr class="row-odd"><td>run_restart_file</td>
<td>&lt;string&gt;</td>
<td>Name of file to restart from (e.g., chk.h5)</td>
</tr>
<tr class="row-even"><td>run_do_checkpoint</td>
<td>0 = no | 1 = yes</td>
<td>Whether or not to writeout checkpoint files. Note, that one of the interval
parameters below must also be specified to write checkpoints</td>
</tr>
<tr class="row-odd"><td>run_checkpoint_name_base</td>
<td>&lt;string&gt;</td>
<td>Filename prefix for checkpoint files</td>
</tr>
<tr class="row-even"><td>run_chk_timestep_interval</td>
<td>&lt;int&gt;</td>
<td>If 0, don’t checkpoint based on simulation iteration number. Otherwise, checkpoint every $run_chk_timestep_interval timesteps.</td>
</tr>
<tr class="row-odd"><td>run_chk_walltime_interval</td>
<td>&lt;float&gt;</td>
<td>If 0, don’t checkpoint based on wallclock time. Otherwise, checkpoint $run_chk_walltime_interval after the last checkpoint in wallclock time. Measured in seconds</td>
</tr>
<tr class="row-even"><td>run_chk_simtime_interval</td>
<td>&lt;float&gt;</td>
<td>If 0, don’t checkpoint based on simulation time. Otherwise, checkpoint $run_chk_simtime_interval after the last checkpoint in simulation time. Measured in seconds,</td>
</tr>
<tr class="row-odd"><td>run_chk_walltime_max</td>
<td>&lt;float&gt;</td>
<td>If 0, don’t checkpoint based on when the simulation will end. Otherwise, checkpoint when the simulation thinks it might not finish before $run_chk_walltime_max
of wallclock time has elapsed since the start of the run. Checkpoints based on this condition happen when ${run_chk_walltime_max_buffer} *
(walltime duration of last timestep) + (current walltime) &gt;= ${run_chk_walltime_max}. Measured in seconds, default is 0. This time should probably be the wallclock limit on your run.</td>
</tr>
<tr class="row-even"><td>run_chk_walltime_max_buffer</td>
<td>&lt;float&gt;</td>
<td>See above. Default is 1.1. Setting this to 0 will also turn off checkpointing based on run_chk_walltime_max</td>
</tr>
<tr class="row-odd"><td>run_chk_number_start</td>
<td>&lt;int&gt;</td>
<td>Number with which to start checkpoint file numbering.</td>
</tr>
<tr class="row-even"><td>run_do_checkpoint_test</td>
<td>0 = no | 1 = yes</td>
<td><dl class="first last docutils">
<dt>Whether to save out a checkpoint file immediately after reading in a restart file. If you choose to run this test, running h5diff on the</dt>
<dd>restart file and this initial checkpoint file (named {$run_checkpoint_name_base}_init.h5) should return empty.</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Sedona6</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_files.html">Input  Files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Output Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#spectrum-files">Spectrum Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plt-files">Plt Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#checkpoint-files">Checkpoint Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="code_execution.html">Basic Code Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="radiation_transport.html">Radiation Transport</a></li>
<li class="toctree-l1"><a class="reference internal" href="sources.html">Radiation Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="opacity.html">Opacity</a></li>
<li class="toctree-l1"><a class="reference internal" href="hydrodynamics.html">Hydrodynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting and Data Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="all_parameters.html">All Runtime Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_tools.html">Python Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Adding Documentation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="input_files.html" title="previous chapter">Input  Files</a></li>
      <li>Next: <a href="code_execution.html" title="next chapter">Basic Code Execution</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, D. Kasen.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/output_files.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>